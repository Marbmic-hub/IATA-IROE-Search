<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IATA Rates of Exchange (IROE) Search</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="data.js"></script>
</head>
<body class="bg-gray-100 p-4">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // The iroeData array will be loaded from data.js

        // Notes explanations
        const notesExplanations = {
            "1": "For information apply to the nearest office of an issuing or participating airline.",
            "2": "International fares, fares related charges and excess baggage charges will be quoted in US Dollars. The conversion rate shown herein is to be used solely to convert local currency domestic fares to US Dollars, permitting the combination of domestic fares and international fares on the same ticket.",
            "3": "No rounding is involved; all decimals beyond two shall be ignored.",
            "4": "Rounding of fares and other charges shall be to the nearest rounding unit except US Tax charges shall be rounded to the nearest 0.01.",
            "5": "Rounding of fares and other charges shall be to the nearest rounding unit.",
            "6": "Rounding of other charges shall be accomplished by dropping amounts less than 50 cents/lisenti and increasing amounts of 50 cents/lisenti or more.",
            "7": "Changes to promotional fares in Japanese Yen shall be calculated to JPY 1 and rounded up to JPY 1,000.",
            "8": "Refer to PAT General Rules book section 11.10 for sources for bankers rates of exchange.",
            "10": "When purchasing a ticket in India, non-residents need prior approval from Reserve Bank or must produce a bank certificate evidencing the exchange of foreign currency.",
            "11": "Netherlands security charge and Passenger Service Charge shall not be rounded.",
            "12": "(a) Rounding of local currency fares shall be accomplished by dropping amounts less than 50 cents and increasing amounts of 50 cents or more. Round trip fares in Canadian/US currency shall not exceed twice the one-way fare. (b) Other charges - Canadian Tax Charges rounded to the nearest 0.01.",
            "14": "The sale in Brazilian currency is prohibited for tickets which permit a stopover in Brazil on the outbound journey, once the passenger has left Brazil. This prohibition shall not apply to the sale of transportation to be performed solely within the area comprised of Argentina / Brazil / Chile / Paraguay and Uruguay.",
            "17": "Other Charges - Australian Tax Charges when collected in Australia, round to the nearest 0.01.",
            "18": "Other Charges - New Zealand Tax Charges when collected in New Zealand, round to the nearest 0.01.",
            "19": "Exchange rate set by Government.",
            "21": "Other Charges - Colombian VAT shall be rounded to the nearest COP 10.",
            "22": "International fares, fares related charges and excess baggage charges will be quoted in euro (EUR). The conversion rate shown herein is to be used solely to convert local currency domestic fares to euro, permitting the combination of domestic fares and international fares on the same ticket."
        };

        // Search Icon Component
        const SearchIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-gray-400">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
        );

        const App = () => {
            // Rest of the app code (exactly as in the simplified version)
            const [searchTerm, setSearchTerm] = useState('');
            const [filteredCountries, setFilteredCountries] = useState([]);
            const [selectedCountry, setSelectedCountry] = useState(null);
            const [loading, setLoading] = useState(true);
            const [nucAmount, setNucAmount] = useState('');
            const [selectedCurrency, setSelectedCurrency] = useState(null);

            // Load data
            useEffect(() => {
                setFilteredCountries(iroeData);
                setLoading(false);
            }, []);

            // Filter countries based on search term
            useEffect(() => {
                if (searchTerm) {
                    const filtered = iroeData.filter(
                        country => 
                            country.country.toLowerCase().includes(searchTerm.toLowerCase()) ||
                            country.currencyName.toLowerCase().includes(searchTerm.toLowerCase()) ||
                            country.alphaCode.toLowerCase().includes(searchTerm.toLowerCase())
                    );
                    setFilteredCountries(filtered);
                } else {
                    setFilteredCountries(iroeData);
                }
            }, [searchTerm]);

            // Copy the rest of the App component from the simplified version
            // ...
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
